<!DOCTYPE html>
<html lang="ja"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ログイン</title>
</head>
<style>
    .container {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background-color: #f5f5f5;
    }
</style>
<body>
<div class="container">
    <form method="post" th:action="@{/login}">
        <div th:if="${errorMessage != null}" th:text="${errorMessage}" style="color: red"></div>
        <div>
            <label for="username">username:</label>
            <input type="text" name="username" id="username">
            <p id="checkUsername"></p>
        </div>
        <div>
            <label for="password">password:</label>
            <input type="password" name="password" id="password">
            <p id="checkPassword"></p>
        </div>
        <div>
            <button type="submit" id="loginButton">ログイン</button>
            <a th:href="@{/register}">新規登録</a>
        </div>
    </form>
</div>


<script>
function checkUsername() {
    const username = document.getElementById("username").value.trim();
    const message = document.getElementById("checkUsername");


    if (username.length < 8 || username.length > 20) {
        message.textContent = "8-20文字以内入力してください!";
    } else {
        message.textContent = "";
    }
}

function checkPassword() {
    const password = document.getElementById("password").value.trim();
    const message = document.getElementById("checkPassword");

    if (password.length < 8 || password.length > 20) {
        message.textContent = "8-20文字以内入力してください!";
    } else {
        message.textContent = "";
    }
}



window.addEventListener("DOMContentLoaded", function () {
    document.getElementById("username").addEventListener("input", checkUsername);
    document.getElementById("password").addEventListener("input", checkPassword);
})
</script>
</body>
</html>